<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¼ê¸° Mock ë°ì´í„° ì„¤ì •</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        margin-bottom: 30px;
        text-align: center;
      }
      .section {
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fafafa;
      }
      .section h2 {
        color: #555;
        margin-top: 0;
        margin-bottom: 15px;
      }
      .form-group {
        margin-bottom: 15px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #333;
      }
      input[type="number"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
      }
      button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        margin-right: 10px;
        margin-bottom: 10px;
        transition: background-color 0.2s;
      }
      button:hover {
        background-color: #0056b3;
      }
      button.danger {
        background-color: #dc3545;
      }
      button.danger:hover {
        background-color: #c82333;
      }
      button.success {
        background-color: #28a745;
      }
      button.success:hover {
        background-color: #218838;
      }
      .status {
        margin-top: 15px;
        padding: 10px;
        border-radius: 4px;
        font-weight: 500;
      }
      .status.success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .status.error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
      .status.info {
        background-color: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }
      .console-output {
        background-color: #1e1e1e;
        color: #d4d4d4;
        padding: 15px;
        border-radius: 4px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        max-height: 300px;
        overflow-y: auto;
        white-space: pre-wrap;
      }
      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }
      .stat-card {
        background: white;
        padding: 15px;
        border-radius: 6px;
        text-align: center;
        border: 1px solid #e0e0e0;
      }
      .stat-number {
        font-size: 24px;
        font-weight: bold;
        color: #007bff;
      }
      .stat-label {
        font-size: 14px;
        color: #666;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ“ ì¼ê¸° Mock ë°ì´í„° ì„¤ì •</h1>

      <div class="section">
        <h2>ë°ì´í„° ìƒì„±</h2>
        <div class="form-group">
          <label for="dataCount">ìƒì„±í•  ì¼ê¸° ê°œìˆ˜:</label>
          <input type="number" id="dataCount" value="50" min="1" max="1000" />
        </div>
        <button onclick="generateMockData()" class="success">
          ğŸ“Š Mock ë°ì´í„° ìƒì„±
        </button>
        <button onclick="generateLargeDataset()" class="success">
          ğŸ“ˆ ëŒ€ìš©ëŸ‰ ë°ì´í„° ìƒì„± (200ê°œ)
        </button>
        <div id="generateStatus"></div>
      </div>

      <div class="section">
        <h2>ë°ì´í„° ê´€ë¦¬</h2>
        <button onclick="checkCurrentData()" class="success">
          ğŸ“‹ í˜„ì¬ ë°ì´í„° í™•ì¸
        </button>
        <button onclick="clearAllData()" class="danger">
          ğŸ—‘ï¸ ëª¨ë“  ë°ì´í„° ì‚­ì œ
        </button>
        <button onclick="exportData()" class="success">
          ğŸ’¾ ë°ì´í„° ë‚´ë³´ë‚´ê¸°
        </button>
        <button onclick="importData()" class="success">
          ğŸ“¥ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        </button>
        <div id="manageStatus"></div>
      </div>

      <div class="section">
        <h2>í˜„ì¬ ìƒíƒœ</h2>
        <div id="currentStats"></div>
        <div
          id="consoleOutput"
          class="console-output"
          style="display: none"
        ></div>
      </div>
    </div>

    <script>
      // Mock ë°ì´í„° ìƒì„± í•¨ìˆ˜
      function generateMockDiaries(count = 50) {
        const EMOTION_TYPES = ["Happy", "Sad", "Angry", "Surprise", "Etc"];

        const titles = [
          "ì˜¤ëŠ˜ì˜ í•˜ë£¨",
          "ê¸°ë¶„ ì¢‹ì€ ë‚ ",
          "í˜ë“  í•˜ë£¨",
          "ìƒˆë¡œìš´ ì‹œì‘",
          "ì¶”ì–µì´ ë˜ëŠ” ë‚ ",
          "íŠ¹ë³„í•œ ìˆœê°„",
          "í‰ë²”í•œ í•˜ë£¨",
          "ê°ë™ì ì¸ í•˜ë£¨",
          "ë³µì¡í•œ ë§ˆìŒ",
          "í‰í™”ë¡œìš´ í•˜ë£¨",
          "ë°”ìœ í•˜ë£¨",
          "ì—¬ìœ ë¡œìš´ í•˜ë£¨",
          "ì¦ê±°ìš´ í•˜ë£¨",
          "í”¼ê³¤í•œ í•˜ë£¨",
          "ì‹ ë‚˜ëŠ” í•˜ë£¨",
          "ì¡°ìš©í•œ í•˜ë£¨",
          "í™œê¸°ì°¬ í•˜ë£¨",
          "ì°¨ë¶„í•œ í•˜ë£¨",
          "ë°ì€ í•˜ë£¨",
          "ì–´ë‘ìš´ í•˜ë£¨",
          "ë”°ëœ»í•œ í•˜ë£¨",
          "ì°¨ê°€ìš´ í•˜ë£¨",
          "ë‹¬ì½¤í•œ í•˜ë£¨",
          "ì“´ í•˜ë£¨",
          "ë§›ìˆëŠ” í•˜ë£¨",
          "ë°°ê³ í”ˆ í•˜ë£¨",
          "ë°°ë¶€ë¥¸ í•˜ë£¨",
          "ëª©ë§ˆë¥¸ í•˜ë£¨",
          "ì‹œì›í•œ í•˜ë£¨",
          "ëœ¨ê±°ìš´ í•˜ë£¨",
        ];

        const contents = [
          "ì˜¤ëŠ˜ì€ ì •ë§ íŠ¹ë³„í•œ í•˜ë£¨ì˜€ì–´ìš”. ì•„ì¹¨ì— ì¼ì–´ë‚˜ì„œ ì°½ë°–ì„ ë³´ë‹ˆ ë‚ ì”¨ê°€ ì •ë§ ì¢‹ì•˜ê³ , ë§ˆìŒë„ í•œê²° ê°€ë²¼ì›Œì¡Œì–´ìš”.",
          "ì˜¤ëŠ˜ í•˜ë£¨ ì¢…ì¼ ê¸°ë¶„ì´ ì¢‹ì•˜ì–´ìš”. ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚´ë©´ì„œ ì •ë§ ì¦ê±°ì› ì–´ìš”.",
          "ì˜¤ëŠ˜ì€ ì¡°ê¸ˆ í˜ë“  í•˜ë£¨ì˜€ì–´ìš”. í•˜ì§€ë§Œ ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‘ì€ ê¸°ì¨ë“¤ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ìƒˆë¡œìš´ ë„ì „ì„ ì‹œì‘í•œ í•˜ë£¨ì˜€ì–´ìš”. ì¡°ê¸ˆì€ ë‘ë µì§€ë§Œ ì„¤ë ˆê¸°ë„ í•´ìš”.",
          "ì˜¤ëŠ˜ì€ ì •ë§ ê°ë™ì ì¸ í•˜ë£¨ì˜€ì–´ìš”. ì˜ˆìƒì¹˜ ëª»í•œ ì¼ë“¤ì´ ì¼ì–´ë‚˜ë©´ì„œ ë§ˆìŒì´ ë”°ëœ»í•´ì¡Œì–´ìš”.",
          "í‰ë²”í•œ í•˜ë£¨ì˜€ì§€ë§Œ ê·¸ í‰ë²”í•¨ì´ ì†Œì¤‘í•˜ê²Œ ëŠê»´ì¡Œì–´ìš”. ì‘ì€ í–‰ë³µë“¤ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ì˜¤ëŠ˜ì€ ì •ë§ ë°”ìœ í•˜ë£¨ì˜€ì–´ìš”. í•˜ì§€ë§Œ ê·¸ ë°”ì¨ ì†ì—ì„œë„ ì˜ë¯¸ ìˆëŠ” ì¼ë“¤ì„ í•  ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ì—¬ìœ ë¡œìš´ í•˜ë£¨ì˜€ì–´ìš”. ì±…ì„ ì½ê³  ìŒì•…ì„ ë“¤ìœ¼ë©° ë§ˆìŒì˜ í‰í™”ë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ì˜¤ëŠ˜ì€ ì •ë§ ì¦ê±°ìš´ í•˜ë£¨ì˜€ì–´ìš”. ì›ƒìŒì´ ëŠì´ì§€ ì•Šì•˜ê³ , ë§ˆìŒì´ ê°€ë²¼ì›Œì¡Œì–´ìš”.",
          "ì¡°ê¸ˆ í”¼ê³¤í•œ í•˜ë£¨ì˜€ì§€ë§Œ, ê·¸ í”¼ë¡œë„ ì˜ë¯¸ ìˆëŠ” ê²ƒë“¤ì´ë¼ ìƒê°í•´ìš”.",
          "ì˜¤ëŠ˜ì€ ì •ë§ ì‹ ë‚˜ëŠ” í•˜ë£¨ì˜€ì–´ìš”. ìƒˆë¡œìš´ ê²½í—˜ì„ í•˜ë©´ì„œ ì •ë§ ì¦ê±°ì› ì–´ìš”.",
          "ì¡°ìš©í•œ í•˜ë£¨ì˜€ì–´ìš”. í˜¼ìë§Œì˜ ì‹œê°„ì„ ë³´ë‚´ë©´ì„œ ë§ˆìŒì˜ ì•ˆì •ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆì–´ìš”.",
          "í™œê¸°ì°¬ í•˜ë£¨ì˜€ì–´ìš”. ì—ë„ˆì§€ê°€ ë„˜ì³ì„œ ì •ë§ ì¢‹ì•˜ì–´ìš”.",
          "ì°¨ë¶„í•œ í•˜ë£¨ì˜€ì–´ìš”. ë§ˆìŒì´ í‰ì˜¨í–ˆê³ , ì‘ì€ ê²ƒë“¤ì—ë„ ê°ì‚¬í•  ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ì˜¤ëŠ˜ì€ ì •ë§ ë°ì€ í•˜ë£¨ì˜€ì–´ìš”. í–‡ì‚´ì´ ë§ˆìŒê¹Œì§€ ë”°ëœ»í•˜ê²Œ í•´ì£¼ì—ˆì–´ìš”.",
          "ì¡°ê¸ˆ ì–´ë‘ìš´ í•˜ë£¨ì˜€ì§€ë§Œ, ê·¸ ì–´ë‘  ì†ì—ì„œë„ í¬ë§ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ë”°ëœ»í•œ í•˜ë£¨ì˜€ì–´ìš”. ì‚¬ëŒë“¤ì˜ ë”°ëœ»í•¨ì„ ëŠë‚„ ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ì°¨ê°€ìš´ í•˜ë£¨ì˜€ì§€ë§Œ, ê·¸ ì°¨ê°€ì›€ ì†ì—ì„œë„ ë”°ëœ»í•œ ë§ˆìŒì„ ìœ ì§€í•  ìˆ˜ ìˆì—ˆì–´ìš”.",
          "ë‹¬ì½¤í•œ í•˜ë£¨ì˜€ì–´ìš”. ì‘ì€ ê¸°ì¨ë“¤ì´ ë§ˆìŒì„ ë‹¬ì½¤í•˜ê²Œ í•´ì£¼ì—ˆì–´ìš”.",
          "ì¡°ê¸ˆ ì“´ í•˜ë£¨ì˜€ì§€ë§Œ, ê·¸ ì“´ë§›ë„ ì¸ìƒì˜ í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°í•´ìš”.",
        ];

        const mockDiaries = [];

        for (let i = 1; i <= count; i++) {
          const randomEmotion =
            EMOTION_TYPES[Math.floor(Math.random() * EMOTION_TYPES.length)];
          const randomTitle = titles[Math.floor(Math.random() * titles.length)];
          const randomContent =
            contents[Math.floor(Math.random() * contents.length)];

          // ë‚ ì§œë¥¼ ìµœê·¼ 6ê°œì›” ë‚´ì—ì„œ ëœë¤í•˜ê²Œ ìƒì„±
          const now = new Date();
          const sixMonthsAgo = new Date(
            now.getTime() - 6 * 30 * 24 * 60 * 60 * 1000
          );
          const randomDate = new Date(
            sixMonthsAgo.getTime() +
              Math.random() * (now.getTime() - sixMonthsAgo.getTime())
          );

          mockDiaries.push({
            id: i,
            title: `${randomTitle} ${i}`,
            content: randomContent,
            emotion: randomEmotion,
            createdAt: randomDate.toISOString(),
          });
        }

        // ë‚ ì§œìˆœìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)
        return mockDiaries.sort(
          (a, b) =>
            new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
        );
      }

      // Mock ë°ì´í„° ìƒì„±
      function generateMockData() {
        const count = parseInt(document.getElementById("dataCount").value);
        const mockDiaries = generateMockDiaries(count);

        localStorage.setItem("diaries", JSON.stringify(mockDiaries));

        showStatus(
          "generateStatus",
          `âœ… ${count}ê°œì˜ ì¼ê¸° mock ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`,
          "success"
        );
        updateCurrentStats();
        logToConsole(
          `ğŸ“Š ${count}ê°œì˜ ì¼ê¸° mock ë°ì´í„°ê°€ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.`
        );
      }

      // ëŒ€ìš©ëŸ‰ ë°ì´í„° ìƒì„±
      function generateLargeDataset() {
        const mockDiaries = generateMockDiaries(200);
        localStorage.setItem("diaries", JSON.stringify(mockDiaries));

        showStatus(
          "generateStatus",
          `âœ… 200ê°œì˜ ëŒ€ìš©ëŸ‰ ì¼ê¸° mock ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`,
          "success"
        );
        updateCurrentStats();
        logToConsole(
          `ğŸ“ˆ 200ê°œì˜ ëŒ€ìš©ëŸ‰ ì¼ê¸° mock ë°ì´í„°ê°€ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.`
        );
      }

      // í˜„ì¬ ë°ì´í„° í™•ì¸
      function checkCurrentData() {
        const data = localStorage.getItem("diaries");
        if (data) {
          const diaries = JSON.parse(data);
          showStatus(
            "manageStatus",
            `ğŸ“‹ í˜„ì¬ ${diaries.length}ê°œì˜ ì¼ê¸°ê°€ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.`,
            "info"
          );
          updateCurrentStats();
          logToConsole(
            `ğŸ“‹ í˜„ì¬ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœ ì¼ê¸° ìˆ˜: ${diaries.length}`
          );
        } else {
          showStatus(
            "manageStatus",
            "ğŸ“­ ì €ì¥ëœ ì¼ê¸° ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.",
            "error"
          );
          updateCurrentStats();
          logToConsole("ğŸ“­ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì¼ê¸° ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
        }
      }

      // ëª¨ë“  ë°ì´í„° ì‚­ì œ
      function clearAllData() {
        localStorage.removeItem("diaries");
        showStatus(
          "manageStatus",
          "ğŸ—‘ï¸ ëª¨ë“  ì¼ê¸° ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",
          "success"
        );
        updateCurrentStats();
        logToConsole("ğŸ—‘ï¸ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì˜ ì¼ê¸° ë°ì´í„°ê°€ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.");
      }

      // ë°ì´í„° ë‚´ë³´ë‚´ê¸°
      function exportData() {
        const data = localStorage.getItem("diaries");
        if (data) {
          const blob = new Blob([data], { type: "application/json" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "diaries-backup.json";
          a.click();
          URL.revokeObjectURL(url);
          showStatus(
            "manageStatus",
            "ğŸ’¾ ë°ì´í„°ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.",
            "success"
          );
          logToConsole("ğŸ’¾ ì¼ê¸° ë°ì´í„°ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.");
        } else {
          showStatus("manageStatus", "ğŸ“­ ë‚´ë³´ë‚¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.", "error");
        }
      }

      // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      function importData() {
        const input = document.createElement("input");
        input.type = "file";
        input.accept = ".json";
        input.onchange = function (e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              try {
                const data = JSON.parse(e.target.result);
                localStorage.setItem("diaries", JSON.stringify(data));
                showStatus(
                  "manageStatus",
                  `ğŸ“¥ ${data.length}ê°œì˜ ì¼ê¸° ë°ì´í„°ê°€ ê°€ì ¸ì™€ì¡ŒìŠµë‹ˆë‹¤.`,
                  "success"
                );
                updateCurrentStats();
                logToConsole(
                  `ğŸ“¥ ${data.length}ê°œì˜ ì¼ê¸° ë°ì´í„°ê°€ ê°€ì ¸ì™€ì¡ŒìŠµë‹ˆë‹¤.`
                );
              } catch (error) {
                showStatus(
                  "manageStatus",
                  "âŒ ì˜ëª»ëœ JSON íŒŒì¼ì…ë‹ˆë‹¤.",
                  "error"
                );
                logToConsole("âŒ ì˜ëª»ëœ JSON íŒŒì¼ì…ë‹ˆë‹¤.");
              }
            };
            reader.readAsText(file);
          }
        };
        input.click();
      }

      // ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
      function showStatus(elementId, message, type) {
        const element = document.getElementById(elementId);
        element.innerHTML = `<div class="status ${type}">${message}</div>`;
      }

      // í˜„ì¬ í†µê³„ ì—…ë°ì´íŠ¸
      function updateCurrentStats() {
        const data = localStorage.getItem("diaries");
        const statsElement = document.getElementById("currentStats");

        if (data) {
          const diaries = JSON.parse(data);
          const emotionStats = diaries.reduce((acc, diary) => {
            acc[diary.emotion] = (acc[diary.emotion] || 0) + 1;
            return acc;
          }, {});

          const statsHTML = `
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-number">${diaries.length}</div>
                            <div class="stat-label">ì´ ì¼ê¸° ìˆ˜</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${
                              Object.keys(emotionStats).length
                            }</div>
                            <div class="stat-label">ê°ì • ì¢…ë¥˜</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">${Math.ceil(
                              diaries.length / 12
                            )}</div>
                            <div class="stat-label">í˜ì´ì§€ ìˆ˜</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <strong>ê°ì •ë³„ ë¶„í¬:</strong><br>
                        ${Object.entries(emotionStats)
                          .map(([emotion, count]) => `${emotion}: ${count}ê°œ`)
                          .join(", ")}
                    </div>
                `;
          statsElement.innerHTML = statsHTML;
        } else {
          statsElement.innerHTML =
            '<div class="status error">ğŸ“­ ì €ì¥ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
        }
      }

      // ì½˜ì†” ì¶œë ¥
      function logToConsole(message) {
        const consoleElement = document.getElementById("consoleOutput");
        consoleElement.style.display = "block";
        consoleElement.textContent += message + "\n";
        consoleElement.scrollTop = consoleElement.scrollHeight;
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ìƒíƒœ í™•ì¸
      window.onload = function () {
        updateCurrentStats();
        logToConsole("ğŸš€ ì¼ê¸° Mock ë°ì´í„° ì„¤ì • í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.");
      };
    </script>
  </body>
</html>
